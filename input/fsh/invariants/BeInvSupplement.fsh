Invariant: be-inv-supplement
Description: "A supplement MUST occur in a specialised medicine, general practice and dentistry attestation"
Severity: #error
Expression: "Bundle.where(entry.where(resource is MessageHeader).resource.event.where(system = 'https://www.ehealth.fgov.be/standards/fhir/mycarenet/CodeSystem/message-events' and code != 'eattest-cancel' ).exists()).entry.where(resource is Claim).resource.subType.coding.where(system = 'https://www.ehealth.fgov.be/standards/fhir/eattestation/CodeSystem/be-cs-eattestation-types').where(code = 'specializedmedicine' or code = 'generalpractice' or code = 'dentistry').exists() implies Bundle.where(entry.where(resource is MessageHeader).resource.event.where(system = 'https://www.ehealth.fgov.be/standards/fhir/mycarenet/CodeSystem/message-events' and code != 'eattest-cancel' ).exists()).entry.where(resource is Claim).resource.where(extension.where(url = 'https://www.ehealth.fgov.be/standards/fhir/eattestation/StructureDefinition/be-ext-eattestation-supplement') and item.where(extension.where(url = 'https://www.ehealth.fgov.be/standards/fhir/eattestation/StructureDefinition/be-ext-eattestation-item-supplement').empty()).empty() ).exists()"